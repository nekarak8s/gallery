"use strict";(self.webpackChunkgallery=self.webpackChunkgallery||[]).push([[740],{3537:(e,s,t)=>{t.r(s),t.d(s,{default:()=>qe});var n=t(7363),i=t(1807),a=t(7355),o=t(5301),r=t(6735),c=t(3823);const p=["styles"];function l(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?l(Object(t),!0).forEach((function(s){(0,o.Z)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}const h=e=>{let{styles:s={}}=e,t=(0,r.Z)(e,p);return(0,c.jsx)("svg",d(d({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},t),{},{children:(0,c.jsx)("path",{fill:"currentColor",d:"M6.03 4.97L7 4 2 2l2 5 .97-.97 1.82 1.82C2.16 13.13 3.94 20.7 4 21.03l.26.97 1.94-.5-.2-.79 6.82-6.83L16 17.06V19l3 3 1-2 2-1-3-3h-1.94l-3.18-3.18L20.71 6l.79.19.5-1.93-.97-.26c-.33-.06-7.9-1.84-13.18 2.79zM5.78 19.5c-.28-2.05-.5-6.78 2.43-10.23l3.91 3.91zM19.5 5.78l-6.32 6.34-3.91-3.91c3.45-2.93 8.18-2.71 10.23-2.43"})}))};var g=t(2561);const m=()=>{const e=(0,g.Z)();return(0,c.jsx)("div",{className:"control-notice",children:e?(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("div",{className:"control-notice__controller",children:(0,c.jsx)("div",{})}),(0,c.jsx)("p",{children:"컨트롤러로 이동"})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("div",{className:"control-notice__shoot",children:(0,c.jsx)(h,{})}),(0,c.jsx)("p",{children:"슈팅버튼으로 앨범 조준"})]})]}):(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsxs)("p",{children:[(0,c.jsx)("kbd",{children:"↑"})," ",(0,c.jsx)("kbd",{children:"↓"})," 키로 앞뒤 이동"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)("p",{children:[(0,c.jsx)("kbd",{children:"←"})," ",(0,c.jsx)("kbd",{children:"→"})," 키로 시선 회전"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)("p",{children:[(0,c.jsx)("kbd",{children:"스페이스"}),"  키로 앨범 조준"]})})]})})},u=()=>{const e=(0,i.s0)();return(0,c.jsx)("nav",{className:"gallery-navbar",children:(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:(0,c.jsx)("button",{"data-cursor-scale":a.D,onClick:()=>e(-1),"aria-label":"페이지 뒤로가기",children:"뒤로가기"})}),(0,c.jsxs)("li",{className:"gallery-navbar__notice",children:[(0,c.jsx)("button",{"data-cursor-scale":a.D,"aria-label":"\r 조작법 열기",children:"조작법"}),(0,c.jsx)(m,{})]})]})})};var w=t(2914),y=t(2233),A=t(4395),x=t(4599),f=t(195),v=t(7916);const b={srcSet:t.p+"responsive-images/nx-43e918c16cf8d470-320.png 320w,"+t.p+"responsive-images/nx-9446f5bd9f92febc-640.png 640w,"+t.p+"responsive-images/nx-51a4b9e5a15f420f-960.png 960w,"+t.p+"responsive-images/nx-63f5b62a3f3cb080-1024.png 1024w",images:[{path:t.p+"responsive-images/nx-43e918c16cf8d470-320.png",width:320,height:320},{path:t.p+"responsive-images/nx-9446f5bd9f92febc-640.png",width:640,height:640},{path:t.p+"responsive-images/nx-51a4b9e5a15f420f-960.png",width:960,height:960},{path:t.p+"responsive-images/nx-63f5b62a3f3cb080-1024.png",width:1024,height:1024}],src:t.p+"responsive-images/nx-63f5b62a3f3cb080-1024.png",toString:function(){return t.p+"responsive-images/nx-63f5b62a3f3cb080-1024.png"},placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAA/1BMVEWAg5FQZpNNYo85UIM5R2s2S36FiJdZXnQ5RmUrNlc+SmpVYH2GiJRWbJaOkJ2Cj6ednadmdZdCS2UwO1xJV3iKkJ5TaJR3hqOUmac/VYdTWnBcYnZTXnpPV3BdZHqJi5hofKGIk6hKXINHXo1zgJ+wsr1MU2pGUGxGU3FCTm9aZ4MyP2N2eottc4dTZIaQlKJYcJp+jaiMjZhzg6NYa41Sapdcc51AWYyMk6d+iqRvfJiQl6qfpLReb5VOWXU3QV9iaHxvd40/T3V5gJSSlqJqgKRjd55JZJShoq9ncIhiaoByf5Zuhaanpq2pqrU9RV5PXHxocop/iZuVn7WKkqLLleHlAAAACXBIWXMAAAsTAAALEwEAmpwYAAABVUlEQVR4nE3J1ZqCUBRA4Y0e4UijIKB02AF2gN019f7vMp/OzazLf0Eul8t5c2GhheEikXyixI0P8MJs1htKgZAGaYYocT8hZN/puiT5mUzmhW4Cuq5n9XSWJM/0bQSnxlCaTCb+VDs/wzDwCYJzgkEMM+408TlJmgfujCuNjqo6UEELouPxdBqPCPUccFEUjZ0D9KauKAqqOHVmZ2HsOIf7PQalJ/Z48SGKj4XrCto0FoQF2CRJ2naf53leURR+v9f2GrxjWZJ8XdLuK7zSewkA22fZPuxum91ufrt9Q3uzabc7l3aneYEvr9vtDocSdBiZYWTZYoxrh9luZc/rDsFoIETXl5S1vlp1hLbyJ9MEutVq4Vq5sl5bJo0QashGE1rFYnFVMKmKRZkNjBFdN5qQz+eLq0K1TFUos0ZjjBpL5j+WqwWMMV033vjxh5RZK2BM15a/VKgv5JJ/sLMAAAAASUVORK5CYII=",width:1024,height:1024},j={srcSet:t.p+"responsive-images/ny-881fdf54cdf09324-320.png 320w,"+t.p+"responsive-images/ny-bb63b47858447ab1-640.png 640w,"+t.p+"responsive-images/ny-c01077fb2f78a75c-960.png 960w,"+t.p+"responsive-images/ny-cbef64bf97114415-1024.png 1024w",images:[{path:t.p+"responsive-images/ny-881fdf54cdf09324-320.png",width:320,height:320},{path:t.p+"responsive-images/ny-bb63b47858447ab1-640.png",width:640,height:640},{path:t.p+"responsive-images/ny-c01077fb2f78a75c-960.png",width:960,height:960},{path:t.p+"responsive-images/ny-cbef64bf97114415-1024.png",width:1024,height:1024}],src:t.p+"responsive-images/ny-cbef64bf97114415-1024.png",toString:function(){return t.p+"responsive-images/ny-cbef64bf97114415-1024.png"},placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAmVBMVEVSWGw+RVxHTWIsNVE8Q1ozO1VVW25DSV9YXnFOVGc5QFgwOFJMVGw2PVdKUGRcYnU+SWZgZ3tDT2xGT2hHVHFKWHVsc4ZMW3pyeY28vshQWHBkbIBve5WorLmaoLC0t8JCS2VaYnlUXXVkcIl+hZaMkaKCi6GVmqt4gJRPX4FXZ4Zico+jp7aMlatpb4BaZX6CiZt4hZ+vs79xNgzyAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVR4nE3O246DIBCA4bEFFVSqgCfq+dyurbbv/3Cb0Wyy/80k30wIEMdpmqaPx/On+Lyqb57ndQlSax3H6Ylrnef5d4VQSq1PnOayxsMKwlBKqeP02R9Yf8vqBSGqjrutL/Z5Lcu1ek0QNo2S2nRbnw3jXFXzOH1AKaV833TtPVn2cRynfSnA+L7vG9O1UZItwzAMS5GBa9sAYLu36P5OsqMeXNe1Ed3bLXq/EwzxPD05umOAd4wxOBfo0QZIQgjBMMDztgUmxOUvwfDxroOL8y/BAIwxYBFCrCNCLEcw/DYEQcA5IYRwzonlXIRSCiilFJ0HlAacOI7TNHC9ep6HG4oz4MSyQrhiHnbMg38BEfIcfGbXQYMAAAAASUVORK5CYII=",width:1024,height:1024},Z={srcSet:t.p+"responsive-images/nz-620af6dbf8199423-320.png 320w,"+t.p+"responsive-images/nz-167c532bc40d0898-640.png 640w,"+t.p+"responsive-images/nz-7eeb397af90ad63e-960.png 960w,"+t.p+"responsive-images/nz-e86097d9259b4137-1024.png 1024w",images:[{path:t.p+"responsive-images/nz-620af6dbf8199423-320.png",width:320,height:320},{path:t.p+"responsive-images/nz-167c532bc40d0898-640.png",width:640,height:640},{path:t.p+"responsive-images/nz-7eeb397af90ad63e-960.png",width:960,height:960},{path:t.p+"responsive-images/nz-e86097d9259b4137-1024.png",width:1024,height:1024}],src:t.p+"responsive-images/nz-e86097d9259b4137-1024.png",toString:function(){return t.p+"responsive-images/nz-e86097d9259b4137-1024.png"},placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAsVBMVEUoMlCGiJYzSHwrNVI4T4MqN1o1S38nMlMvQ3YxRXk9VYkxPmM8UoUnM1ZNWHR8f4+Ji5g1SHgvOlxLY5Jocopwd4pwgJ2AiqA0QWRXYn2EhpF+gY+cn6mEjqNnd5p3hZ86RWZBUHReaYGVmKWBg5KOk6F6iaNUbZg1QF5GXo9UZIWMjpsvOFY9SWtGUG49S29BWoxRXXtabpZpfp9DVXpbc5xfd540RGtga4NTZY9yepCS36ERAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJUlEQVR4nDWJB3KDMBBFFwEiEiBEF6b34oZrnNz/YBkR+83O/v1vwcKYfEmI67quTIKAWhoiH0kIIQhjmKmFkSwuQoQghLGmQe5TS8MIyYqlsSwKbeSvVJO3tm1K/SuU0dWfV/rTFhqldF1nvxjg+Xg+fP9aFHMZFXExjuNYwjBkWX5r22jM4yGP81t0KyHL2jbr+z4uo7iMhjjO+x72+z1XOFc+cM45cK7sdrsuTR1Jmnad0sHmnNQJg0BO+PvrdBAEqRMkYZjcmyZ5Na9lWQJYLsmlPjPGzoydLqyu63sDCauPwjSrUyWEKYQQ32cGyakyPV33Jk//xxRHYNLZhqqqhmHYtm3rnglHIR1sGBLb1qGavIP6lu+HDdPkHQ6qCgCqZNN/yH4eNUrYw/kAAAAASUVORK5CYII=",width:1024,height:1024},E={srcSet:t.p+"responsive-images/px-9a433e2bae10046c-320.png 320w,"+t.p+"responsive-images/px-4aedb22733aa38dd-640.png 640w,"+t.p+"responsive-images/px-3cfb1b479d7e767e-960.png 960w,"+t.p+"responsive-images/px-582c623f49d7de70-1024.png 1024w",images:[{path:t.p+"responsive-images/px-9a433e2bae10046c-320.png",width:320,height:320},{path:t.p+"responsive-images/px-4aedb22733aa38dd-640.png",width:640,height:640},{path:t.p+"responsive-images/px-3cfb1b479d7e767e-960.png",width:960,height:960},{path:t.p+"responsive-images/px-582c623f49d7de70-1024.png",width:1024,height:1024}],src:t.p+"responsive-images/px-582c623f49d7de70-1024.png",toString:function(){return t.p+"responsive-images/px-582c623f49d7de70-1024.png"},placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABQVBMVEWJosSTnrRbb5KBjqqvtL2Ll66/xMxgbIdKYI9IUm6ZorWXsM+RnLKorbiPmq+Lj5xNW3pQX4B9lrqQqcq4v8q7wMhshKussbyjqbd7hJhyhaWRlaFeeKGanqk/SWVDTWlNWHV1j7RTZIZqfJxkdJFWX3dhdplvh62yucNka4B0iKhsdYtmfKG0vc6ftdFygqJDWIl7jauGi5pSaJWHlal4hqS2tr1JVXCAmr9RXHZZZH9UYH1VaY1icIxrgKGDnL6ossO3u8Ryi7BqcYd6kbSfsMedqLvGy9KqtciWq8dngKdZcZt1fpJ2jK6TmKajpa9UbJlcaIR5k7iLmLBYaIiGn7+GocKWprp8iKBuepWksMK8xtLFzdypuc6Gm7mElK6PoruGkKiWnrBxf5pqeJOAip9weZCLpca1wtZja4OnpaxydQ/2AAAACXBIWXMAAAsTAAALEwEAmpwYAAABcUlEQVR4nB3K5VbCABiA4W8sWRIbrAEB6W5RuqVUQsBWRL3/C/CM9+dzXmAYhnFD9T7Qm0WStwWKymazkE4zbjdUXYFOxKNbSFFZeHr6Sbuh6QpEPBN9uVwWKKoAo1QqxcCmet/xTPScepvJlDjYj8TW+LSx1sjkVUXL5fICnvtjANisXb2OZzZjvR8f7yV4TvfHJ9ism64e4pXZXCmp63A4DInUSOy/vbwM6Fyc51Ueh+GQkAhCjO4HW1nmi8Wi8WcAQRBSux2NYpiXWxjGXNMEASRJapct4eSFMdcEQcjnQRSjGIZxMosX59pRUZS8JkCr5eVohH5VG8FjfheaTm+UKWwR5CEXjzcubbad8p1IJEiSBPYBR+ON5KXt+mJFkmQ30e3+AsvjqHo2p9NZr1/FYrEYICyOqsEzOhwOv78WDoeBZnE0EwzZVhb6K3YroBEcLQVDN+TdVb3mr9h9PtOEAc2/P35+nTVcq9h9pmn+Az9/PqXb36LAAAAAAElFTkSuQmCC",width:1024,height:1024},z={srcSet:t.p+"responsive-images/py-f22d663e9d68076d-320.png 320w,"+t.p+"responsive-images/py-7a3f2b125700b943-640.png 640w,"+t.p+"responsive-images/py-9419883ae8b47c29-960.png 960w,"+t.p+"responsive-images/py-6a1c0fd8c6b43d39-1024.png 1024w",images:[{path:t.p+"responsive-images/py-f22d663e9d68076d-320.png",width:320,height:320},{path:t.p+"responsive-images/py-7a3f2b125700b943-640.png",width:640,height:640},{path:t.p+"responsive-images/py-9419883ae8b47c29-960.png",width:960,height:960},{path:t.p+"responsive-images/py-6a1c0fd8c6b43d39-1024.png",width:1024,height:1024}],src:t.p+"responsive-images/py-6a1c0fd8c6b43d39-1024.png",toString:function(){return t.p+"responsive-images/py-6a1c0fd8c6b43d39-1024.png"},placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABGlBMVEUvQnVccpqFnsG9v8gxRHczR3hZbpc2SXtUaZOctNJcaYulqLa0t8G4usRedp6PqMhnfqQ8U4WBmr0sP3Nwepd8hJ2Mk6k7TXugpLKboK9heaFshqzg4uhLWoPDxc3S0terrbiTmKpVY4hvirF3kbaZr82iuNStv9fW3OZ7k7euu85QZY++w89AUn7NztShp7iYnKyytcBGWYOPlaeZprxre5yco7VgbpBogac4TYG8ydzJ0d/6+fny8vRLYYy5vstEW4u2u8rGy9bP09t1iquws72lrLyFi6F1gp+Urcynu9d0j7SotMiyt8SMmrGVnbGrsb+Dk62XobVXaY3n6O2BjKfv8PPN1eJ+l7fY2Nt6h6NndJXFyNCRp8Texu1xAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZklEQVR4nCXL1XbCUBRF0RO9UeJGQgyKBQ1a3KHUXf//OzrS7sc51gaKIiEbRZKggQYkulTgzzTUTAsUaBpVaGaIsgRxuqFbJFXQDe5SUQAhhCy9Y/CmBVwY9cxEWUGKyMKow3OiSaHYjpxwoKygZ46aRtjjjNiyYl4UhHsmgb3gxEfb4o5x2hx1hbArtGWwzW894nWu5zjP6cnpdMT1DnjBNPjjKCKC4SI5hbZD9GXwiWF0uE/toP08GDzsbf620QdC9Nvi8CS2nh7FQ3/f9VubPghE92s4eAh+7p4+W0u/tb1Rr4Fo0wmD3R0edzfbW8IPNmqtBq/YgqFz8q72Ua83gmWjgas4rBYMg+XHbkmV6tvNer2s4zgkTBa6xRouse+e53lTSQKGobG87F6r0hVbqc7e5tUyCzSN5fLjYgm/uGAr0/lsXj2zkJns/uN54s1eJmUWsFwuP3aLpezOnifVaaXM/gK9pjMT1+ivhQAAAABJRU5ErkJggg==",width:1024,height:1024},S={srcSet:t.p+"responsive-images/pz-10f488cd9e60ca04-320.png 320w,"+t.p+"responsive-images/pz-56fe2eb414b5f4e6-640.png 640w,"+t.p+"responsive-images/pz-d229405ea56feb25-960.png 960w,"+t.p+"responsive-images/pz-0050c5a4c59e08ac-1024.png 1024w",images:[{path:t.p+"responsive-images/pz-10f488cd9e60ca04-320.png",width:320,height:320},{path:t.p+"responsive-images/pz-56fe2eb414b5f4e6-640.png",width:640,height:640},{path:t.p+"responsive-images/pz-d229405ea56feb25-960.png",width:960,height:960},{path:t.p+"responsive-images/pz-0050c5a4c59e08ac-1024.png",width:1024,height:1024}],src:t.p+"responsive-images/pz-0050c5a4c59e08ac-1024.png",toString:function(){return t.p+"responsive-images/pz-0050c5a4c59e08ac-1024.png"},placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABKVBMVEWctNKapbhvgqJleZymrLpdaoWdp7qIl7DDytSOqMmdqL2Urs6SorvCyNCYstHBxcxMXX9QY4Zpc4u8wsp/jai2vsmgq79fc5WOnbWYpryVoLWxt8OkudSQm7CkqLN0iq2bqb+7xtWgttO5vsetsbtTX3xUaIujsMNzjrVoeJZhcI5Ya49zgJmAm79tiLCos8WGmbW+xMycrMKNob2FmrqHk6irvdWgpK6xuciwwNV7kLKessy2w9XG0NxccJKEnsJibYV0fZOts8J5gpi3u8Z4k7h7lrypsMCIo8acoKtrfp6Bl7eYnatuhKetvdC/y9x7jaxYYnxwfJSPlKJ8iaC0vcqLpMR0h6Rog6vN0dymtstkgKmructeeaVaZoGOmKqWrMq5w8+ClLCSOMuGAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVR4nC3L51aCABiA4Q9lyVRQWTIE3OTeYpla7pWZo33/N9Gx+vuc9wVi0n0/FbMPN3chmrObnWbCBlC12PtrsZh9vJmGaLATts3RsER56/X0jxwAcLABHXX5Uve6T0M0zQHHbZKw1dGxU6o9XEu/DwD9cxu2K5OhFvX6S+jlyz8n7E3f92FlmmZ3UWfabK9HJpuJZqezBoIgEGZRY6xLr3dZd/wk2U9Cy1ARXKGU6tvb+pslSZJlSZi1Wobhuq7mVHieZVm2wvOwnC1nLcNAXc1xHLFSEUVRhP2+0fhsEISMW/Fh+3A4xGIx8Dzv+XkeODbkclmpVjMlrV2CfF568nLBeVTfdvF4rWZlMhZg+dxolJOk+TFgqpRcVzJxBAbC/cgTCgUpGFwRarnMUH94L2DpdEEKBqKELDMKhQA2EAQsEokUbq+o4nEKR2D3gX2kwuFI+oo6PhlOUBxSu1Qq/Iu5QFRHtfF4iP4Aup07icd++pkAAAAASUVORK5CYII=",width:1024,height:1024},B=t.p+"images/greenaryeac3b060f7439b9f16f1.glb";var O=t(1046);const K=t.p+"images/trees57d0b9224e26b78a935d.glb";class C{constructor(e){(0,o.Z)(this,"type","tree"),(0,o.Z)(this,"objects",[]),(0,o.Z)(this,"cannonBodies",[]),e.gltfLoader.load(K,(s=>{e.treesData.forEach((t=>{const n=new x.Tme;if(n.copy(s.scene.children[t.type]),n.name=this.type,n.children[0].castShadow=!0,n.children[0].receiveShadow=!0,n.scale.multiplyScalar(.01*(t.scale||1)),n.position.set(t.x,t.y,t.z),n.rotation.set((0,v.Id)(-90),0,t.rotation||0),this.objects.push(n),e.container.add(n),e.world){const s=(new x.ZzF).setFromObject(n),{x:i,y:a,z:o}=s.getSize(new x.Pa4),r=new A.uT({mass:0,position:new A.AO(t.x,t.y+a/2,t.z),shape:new A.Ab(i/6,i/6,a)});this.cannonBodies.push(r),e.world.addBody(r)}}))})),this.dispose=()=>{e.world&&this.cannonBodies.forEach((s=>{e.world.removeBody(s)})),this.objects.forEach((s=>{e.container.remove(s)}))}}}const L=2,V=2,M=.05,k=[{x:40,y:1,z:39},{x:63,y:4,z:53},{x:75,y:3,z:27},{x:100,y:1.7,z:40},{x:28,y:4,z:66},{x:64,y:14.6,z:78},{x:83,y:10,z:80},{x:37,y:2.4,z:93},{x:104,y:-2.6,z:104},{x:17,y:1.5,z:28}],R=[{type:0,x:61,y:0,z:19,scale:1.5},{type:0,x:68,y:0,z:17,scale:2},{type:0,x:76,y:0,z:17,scale:1.7},{type:0,x:59,y:.5,z:24,scale:1.8},{type:0,x:66,y:.5,z:23,scale:2},{type:0,x:72,y:.5,z:21,scale:2.1},{type:0,x:80,y:0,z:22,scale:1.9},{type:0,x:63,y:1,z:27,scale:1.75},{type:0,x:81,y:.5,z:26,scale:1.95},{type:0,x:64,y:1.3,z:33,scale:1.75},{type:0,x:70,y:1.3,z:31,scale:1.8},{type:0,x:75,y:1.3,z:32,scale:1.82},{type:0,x:80,y:1.3,z:31,scale:2},{type:6,x:81,y:10,z:73,scale:2},{type:17,x:82,y:6.7,z:65,scale:1.8},{type:14,x:76,y:6.7,z:82,scale:1.7},{type:7,x:59,y:8,z:72,scale:1.9},{type:26,x:51,y:8,z:80,scale:1.6},{type:23,x:65,y:6,z:89,scale:1.4},{type:28,x:91,y:0,z:28,scale:2},{type:28,x:96,y:0,z:37,scale:1.8},{type:28,x:98,y:0,z:45,scale:1.9},{type:28,x:96,y:0,z:53,scale:2},{type:28,x:97,y:0,z:61,scale:1.85},{type:28,x:38,y:0,z:88,scale:1.85},{type:18,x:30,y:1.5,z:28,scale:2.1},{type:2,x:40,y:.3,z:25,scale:1.7},{type:2,x:47,y:0,z:24,scale:1.8},{type:1,x:23,y:.5,z:43,scale:1.8},{type:1,x:24,y:.5,z:51,scale:1.9},{type:1,x:28,y:.5,z:48,scale:1.85},{type:24,x:63.2,y:0,z:43.3,scale:1.8},{type:19,x:70,y:0,z:45,scale:1.7},{type:24,x:31,y:1,z:60,scale:1.85}],q=e=>{const s=new x.dpR(e.loadingManager),t=new x.cBK(e.loadingManager),n=new f.E(e.loadingManager);e.controls.setPosition(25.1,5,25.1),e.controls.setQuaternion(0,(0,v.Id)(-135),0),e.scene.background=t.load([E,b,z,j,S,Z]);const i=[],a=new x.Mig("white",.5);e.scene.add(a),i.push(a);const o=new x.Ox3("white",1.8);o.position.set(110,220,110),o.shadow.camera.left=-60,o.shadow.camera.right=60,o.shadow.camera.top=60,o.shadow.camera.bottom=-100,o.castShadow=!0,e.scene.add(o),i.push(o);const r=[];n.load(B,(s=>{const t=s.scene.children[0];t.receiveShadow=!0;const n=(new x.ZzF).setFromObject(t),{x:i,y:a,z:o}=n.getSize(new x.Pa4);t.position.x+=i/2,t.position.z+=o/2,e.scene.add(t),e.controls.floors.push(t),e.rayControls.rayItems.push(t),r.push({dispose:()=>{e.scene.remove(t)}})}));const c=new x.DvJ(530,5,530),p=new x.YBo({color:36081,side:x.ehD,opacity:.8,transparent:!0}),l=new x.Kj0(c,p);l.position.set(55,-3.8,55),e.scene.add(l),e.rayControls.rayItems.push(l),r.push({dispose:()=>{c.dispose(),p.dispose(),e.scene.remove(l)}});const d=new A.xu(new A.AO(55,50,1)),h=new A.uT({mass:0,position:new A.AO(55,0,-1),shape:d});e.world.addBody(h);const g=new A.xu(new A.AO(55,50,1)),m=new A.uT({mass:0,position:new A.AO(55,0,109),shape:g});e.world.addBody(m);const u=new A.xu(new A.AO(1,50,55)),w=new A.uT({mass:0,position:new A.AO(-1,0,55),shape:u});e.world.addBody(w);const y=new A.xu(new A.AO(1,50,55)),K=new A.uT({mass:0,position:new A.AO(109,0,55),shape:y});e.world.addBody(K),r.push({dispose:()=>{e.world.removeBody(h),e.world.removeBody(m),e.world.removeBody(w),e.world.removeBody(K)}});const q=new x.fHI(17,17,5),W=new x.YBo({color:775167,side:x.ehD,opacity:.7,transparent:!0}),N=new x.Kj0(q,W);N.position.set(45,-3,43),e.scene.add(N),e.rayControls.rayItems.push(N),r.push({dispose:()=>{q.dispose(),W.dispose(),e.scene.remove(N)}});const I=new C({container:e.scene,world:e.world,gltfLoader:n,treesData:R});r.push(I),e.rayControls.rayItems=[...e.rayControls.rayItems,...I.objects],k.forEach(((t,n)=>{const i=new O.R({order:n,x:t.x,y:t.y,z:t.z,width:L,height:V,depth:M,container:e.scene,texture:{textureLoader:s,baseImg:e.postList[n].imageUrl}});r.push(i),e.rayControls.rayItems.push(i.mesh)}));return{update:function(e){r.forEach((s=>{s.update&&s.update(e)}))},dispose:function(){i.forEach((s=>{e.scene.remove(s),s.dispose()})),r.forEach((e=>{e.dispose&&e.dispose()}))}}};var W=t(7959);const N=e=>{let{control:s,shoot:t}=e;const i=(0,n.useRef)(null),a=(0,n.useRef)(null),o=(0,n.useRef)(null),r=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{const e=i.current,t=a.current,n=o.current,c={x:0,y:0,radius:0},p={top:0,bottom:0,left:0,right:0},l=function(){let s=e.getBoundingClientRect();c.x=s.x+e.offsetWidth/2,c.y=s.y+e.offsetHeight/2,c.radius=e.offsetWidth/2,s=n.getBoundingClientRect(),p.top=s.y,p.bottom=s.y+n.offsetHeight,p.left=s.x,p.right=s.x+n.offsetWidth},d=function(e){const n=e.changedTouches[e.changedTouches.length-1];n.clientX>p.left&&n.clientX<p.right&&n.clientY>p.top&&n.clientY<p.bottom||(t.style.transform="\n        translate(".concat(0,"px, ",0,"px)\n        "),s&&s(0,0))};l(),window.addEventListener("resize",l);const h=(0,W.Z)((function(e){if(!r.current)return;const n=e.changedTouches[e.changedTouches.length-1];let i=n.clientX-c.x,a=n.clientY-c.y;const o=(i**2+a**2)**.5;o>c.radius&&(i/=o/c.radius,a/=o/c.radius),t.style.transform="\n      translate(".concat(.9*i,"px, ").concat(.9*a,"px)\n      "),s&&s(i/c.radius,a/c.radius)}));return e.addEventListener("touchstart",h),t.addEventListener("touchstart",h),document.addEventListener("touchmove",h),document.addEventListener("touchend",d),()=>{window.removeEventListener("resize",l),e.removeEventListener("touchstart",h),t.removeEventListener("touchstart",h),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",d)}}),[]),(0,c.jsxs)("div",{className:"joystick",children:[(0,c.jsx)("div",{className:"joystick__controller",ref:i,children:(0,c.jsx)("div",{className:"joystick__controller--core",ref:a})}),(0,c.jsx)("div",{className:"joystick__shoot",onClick:t,ref:o,children:(0,c.jsx)(h,{})})]})};var I=t(351),U=t(7308);const Y=e=>{let{music:s}=e;return(0,c.jsxs)("section",{className:"music-player",children:[(0,c.jsx)("img",{className:"music-player__cover",src:s.coverURL}),(0,c.jsx)(U.Z,{videoId:s.videoId,id:"youtube",opts:{height:"1",width:"1",playerVars:{autoplay:1}}}),(0,c.jsxs)("div",{className:"music-player__info",children:[(0,c.jsxs)("p",{children:[s.title," - ",s.artist]}),(0,c.jsxs)("p",{children:[s.title," - ",s.artist]})]})]})},X=e=>{let{post:s}=e;return(0,c.jsxs)("section",{className:"post",children:[(0,c.jsx)("img",{className:"post__image",src:s.imageUrl}),(0,c.jsxs)("div",{className:"post__description",children:[s.music&&(0,c.jsx)(Y,{music:s.music}),(0,c.jsx)("h1",{children:s.title}),(0,c.jsx)("p",{children:s.content})]})]})};var F=t(9451),Q=t(5945),J=t(4469),T=t(9093),D=t(2731);const G={regex:/[\s\S]{1,100}/,condition:"공백 포함 100자로 입력해주세요"},P={regex:/^[1-9]\d*$/,condition:"게시물 식별자(숫자)가 올바르지 않습니다"};var H=t(8891),_=t(6738),$=t(4813);const ee=e=>{let{postId:s,onSuccess:t,onError:n}=e;const{mutateAsync:i}=function(e){const s=(0,Q.NL)();return(0,J.D)((e=>T.Z.post("/post/comment",e)),{onSuccess:t=>{s.invalidateQueries(["comment-list",{postId:e}]),D.Z.addToast("success",t.message)},onError:e=>{D.Z.addToast("error",e.message)}})}(s);return(0,c.jsxs)(H.Z,{className:"comment-form",onSubmit:e=>{e.preventDefault(),e.stopPropagation();const s=e.currentTarget,a=function(e){const s=e.get("name");if(!G.regex.test(s))return{result:!1,reason:G.condition};const t=e.get("postId");return P.regex.test(t)?{result:!0,data:{content:s,postId:parseInt(t)}}:{result:!1,reason:P.condition}}(new FormData(s));a.result?i(a.data).then((()=>{s.reset(),t&&t()})).catch((()=>{n&&n()})):D.Z.addToast("error",a.reason)},children:[(0,c.jsx)("input",{type:"hidden",name:"postId",value:s}),(0,c.jsx)(_.Z,{label:"감상문",name:"content",initialValue:""}),(0,c.jsx)($.Z,{type:"submit",text:"생성"})]})},se=["styles"];function te(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function ne(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?te(Object(t),!0).forEach((function(s){(0,o.Z)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):te(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}const ie=e=>{let{styles:s={}}=e,t=(0,r.Z)(e,se);return(0,c.jsx)("svg",ne(ne({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},t),{},{children:(0,c.jsx)("path",{fill:"currentColor",d:"M6 7H5v13a2 2 0 002 2h10a2 2 0 002-2V7zm4 12H8v-9h2zm6 0h-2v-9h2zm.618-15L15 2H9L7.382 4H3v2h18V4z"})}))},ae=e=>{let{postId:s,comment:t,user:i}=e;const[a,o]=(0,n.useState)(!1),{mutateAsync:r}=function(e,s){const t=(0,Q.NL)();return(0,J.D)((()=>T.Z.delete("/post/comment/".concat(s))),{onSuccess:s=>{t.invalidateQueries(["comment-list",{postId:e}]),D.Z.addToast("success",s.message)},onError:e=>{D.Z.addToast("error",e.message)}})}(s,t.commentId);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"comment-item",children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("b",{children:t.nickname}),"  ",t.content]}),(0,c.jsx)("p",{children:new Date(t.createdDate).toLocaleDateString()}),t.nickname===i.nickname&&(0,c.jsx)("button",{type:"button",onClick:()=>{o(!0)},"aria-label":"댓글 삭제",children:(0,c.jsx)(ie,{})})]}),(0,c.jsx)(I.Z,{isOpen:a,onClose:()=>o(!1),children:(0,c.jsxs)("div",{className:"comment-item__delete",children:[(0,c.jsx)("p",{children:"댓글을 삭제하시겠습니까?"}),(0,c.jsx)($.Z,{text:"삭제",direction:"right",onClick:()=>{r().then((()=>{o(!1)}))}})]})})]})};var oe=t(966);const re=e=>{let{postId:s}=e;const{data:t,isLoading:n,isError:i}=(0,oe.bT)(),{data:a,isLoading:o,isError:r}=function(e){return(0,F.a)(["comment-list",{postId:e}],(()=>T.Z.get("/post/comment/list/".concat(e))),{onSuccess:()=>{},onError:e=>{D.Z.addToast("error",e.message)},select:e=>e.data})}(s);return i||r?null:n||o?(0,c.jsx)(y.Z,{}):(0,c.jsxs)("section",{className:"comment-list",children:[(0,c.jsx)("ol",{className:"comment-list__list",children:a.map((e=>(0,c.jsx)("li",{children:(0,c.jsx)(ae,{postId:s,comment:e,user:t})},e.commentId)))}),(0,c.jsx)(ee,{postId:s})]})},ce=e=>{let{post:s}=e;return(0,c.jsxs)("article",{className:"post-detail",children:[(0,c.jsx)(X,{post:s}),(0,c.jsx)(re,{postId:s.postId})]})};var pe=t(7103),le=t(5804),de=t(5980);function he(e,s,t){!function(e,s){if(s.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,s),s.set(e,t)}new A.AO(1,0,0);const ge=new A.AO(0,1,0),me=(new A.AO(0,0,1),new A.AO),ue=new x.Pa4(0,-1,0),we=new x.Pa4,ye=new A._f,Ae=new x._fP;var xe=new WeakMap,fe=new WeakMap,ve=new WeakMap,be=new WeakMap,je=new WeakMap,Ze=new WeakMap;class Ee{constructor(e,s,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.6;he(this,xe,{writable:!0,value:void 0}),he(this,fe,{writable:!0,value:new x.iMs}),he(this,ve,{writable:!0,value:0}),he(this,be,{writable:!0,value:1.6}),he(this,je,{writable:!0,value:0}),he(this,Ze,{writable:!0,value:.6}),(0,o.Z)(this,"enabled",!0),(0,o.Z)(this,"floors",[]),this.canvas=e,this.camera=s,this.world=t,this.height=n;const i=new A.xu(new A.AO(.2,n/2,.2));(0,de.Z)(this,xe,new A.uT({mass:40,position:new A.AO(this.camera.position.x,this.camera.position.y-n/2,this.camera.position.z),shape:i,fixedRotation:!0}));const a=new A._f,r=new A._f,c=new A._f;a.setFromAxisAngle(new A.AO(1,0,0),this.camera.rotation.x),r.setFromAxisAngle(new A.AO(0,1,0),this.camera.rotation.y),c.setFromAxisAngle(new A.AO(0,0,1),this.camera.rotation.z),(0,le.Z)(this,xe).quaternion.copy(a.mult(r).mult(c)),this.world.addBody((0,le.Z)(this,xe));const p=this.onKeyDown.bind(this),l=this.onKeyUp.bind(this);window.addEventListener("keydown",p),window.addEventListener("keyup",l),this.dispose=()=>{this.world.removeBody((0,le.Z)(this,xe)),window.removeEventListener("keydown",p),window.removeEventListener("keyup",l)}}setPosition(e,s,t){(0,le.Z)(this,xe).position.x=e,(0,le.Z)(this,xe).position.y=s,(0,le.Z)(this,xe).position.z=t}setQuaternion(e,s,t){(0,le.Z)(this,xe).quaternion.x=e,(0,le.Z)(this,xe).quaternion.y=s,(0,le.Z)(this,xe).quaternion.z=t}set movementSpeed(e){e>1?(0,de.Z)(this,ve,1):e<-1?(0,de.Z)(this,ve,-1):(0,de.Z)(this,ve,e)}set maxMovementSpeed(e){e>0?(0,de.Z)(this,be,e):(0,de.Z)(this,be,1.6)}set lookSpeed(e){e>1?(0,de.Z)(this,je,1):e<-1?(0,de.Z)(this,je,-1):(0,de.Z)(this,je,e)}set maxLookSpeed(e){e>0?(0,de.Z)(this,Ze,e):(0,de.Z)(this,Ze,1.6)}onKeyDown(e){if(this.enabled)switch(e.code){case"ArrowUp":case"KeyW":e.preventDefault(),(0,de.Z)(this,ve,1);break;case"ArrowLeft":case"KeyA":e.preventDefault(),(0,de.Z)(this,je,1);break;case"ArrowDown":case"KeyS":e.preventDefault(),(0,de.Z)(this,ve,-1);break;case"ArrowRight":case"KeyD":e.preventDefault(),(0,de.Z)(this,je,-1)}}onKeyUp(e){switch(e.code){case"ArrowUp":case"KeyW":case"ArrowDown":case"KeyS":(0,de.Z)(this,ve,0);break;case"ArrowLeft":case"KeyA":case"ArrowRight":case"KeyD":(0,de.Z)(this,je,0)}}update(e){if(!this.enabled)return;(0,le.Z)(this,fe).set(this.camera.position,ue);const s=(0,le.Z)(this,fe).intersectObjects(this.floors);for(const e of s){(0,le.Z)(this,xe).position.y+=this.height-e.distance;break}if((0,le.Z)(this,xe).velocity.set(0,0,0),(0,le.Z)(this,ve)){const e=1e4*(0,le.Z)(this,ve)*(0,le.Z)(this,be);this.camera.getWorldDirection(we).normalize().multiplyScalar(e),(0,le.Z)(this,xe).applyForce(me.set(we.x,we.y,we.z))}if((0,le.Z)(this,je)){const s=e*(0,le.Z)(this,je)*(0,le.Z)(this,Ze);ye.setFromAxisAngle(ge,s);const t=(0,le.Z)(this,xe).quaternion;(0,le.Z)(this,xe).quaternion.copy(t.mult(ye,t))}this.camera.position.x=(0,le.Z)(this,xe).position.x,this.camera.position.y=(0,le.Z)(this,xe).position.y+this.height,this.camera.position.z=(0,le.Z)(this,xe).position.z,this.camera.quaternion.copy(Ae.set((0,le.Z)(this,xe).quaternion.x,(0,le.Z)(this,xe).quaternion.y,(0,le.Z)(this,xe).quaternion.z,(0,le.Z)(this,xe).quaternion.w))}}function ze(e,s,t){!function(e,s){if(s.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,s),s.set(e,t)}const Se=new x.FM8(0,0);var Be=new WeakMap;class Oe{constructor(e,s){ze(this,Be,{writable:!0,value:new x.iMs}),(0,o.Z)(this,"enabled",!0),(0,o.Z)(this,"rayItems",[]),this.canvas=e,this.camera=s;const t=this.onKeyDown.bind(this);window.addEventListener("keydown",t);const n=document.createElement("div");n.id="target",this.canvas.parentNode.insertBefore(n,e.nextSibling),this.dispose=()=>{window.removeEventListener("keydown",t);const e=document.getElementById("target");e&&e.remove()}}shoot(){if(this.raycast){(0,le.Z)(this,Be).setFromCamera(Se,this.camera);const e=(0,le.Z)(this,Be).intersectObjects(this.rayItems);for(const s of e){this.raycast(s);break}}}onKeyDown(e){if(this.enabled)switch(e.code){case"Space":e.preventDefault(),this.shoot();break;case"Escape":e.preventDefault(),this.onEsc&&this.onEsc()}}}var Ke=t(4670),Ce=t(7458);const Le={1:q},Ve=e=>{let{gallery:s,postList:t}=e;const i=(0,n.useRef)(null),a=(0,n.useRef)(null),o=(0,n.useRef)(null),[r,p]=(0,n.useState)(0),[l,d]=(0,n.useState)(0),[h,m]=(0,n.useState)(null);(0,n.useEffect)((()=>{if(!s||!t)return;const e=i.current,n=new x.lLk;n.onStart=function(){p((e=>e+1))},n.onLoad=function(){d((e=>e+1))};const r=new Ce.T({canvas:e,antialias:!0}),c=new x.xsS,l=new pe.R({canvas:e});c.add(l);const h=new A.q3;h.broadphase=new A.BQ(h);const g=new Ee(e,l,h,1.6);a.current=g;const u=new Oe(e,l);u.raycast=e=>{e.object instanceof Ke.t&&(e.distance>10?D.Z.addToast("error","앨범이 너무 멀리 있습니다"):(m(e.object.order),g.enabled=!1))},u.onEsc=()=>{m(null),g.enabled=!0},o.current=u;const{update:w,dispose:y}=Le[s.place.placeId]({canvas:e,loadingManager:n,renderer:r,scene:c,camera:l,world:h,controls:g,rayControls:u,postList:t}),f=function(){l.setDefaultAspect(),l.updateProjectionMatrix(),r.setDefaultSize(),r.render(c,l)};window.addEventListener("resize",f);const v=new x.SUY,b=function(){const e=v.getDelta();r.render(c,l),r.setAnimationLoop(b),h.step(e<.01?1/120:1/60,e,3),g.update(e),w(e)};return b(),()=>{p(0),d(0),c.remove(l),r.setAnimationLoop(null),r.dispose(),g.dispose(),y(),window.removeEventListener("resize",f)}}),[s,t]);const u=(0,g.Z)(),f=(0,n.useCallback)((()=>{o.current&&o.current.shoot()}),[]),v=(0,n.useCallback)(((e,s)=>{a.current&&(a.current.lookSpeed=-e,a.current.movementSpeed=-s)}),[]);return(0,c.jsxs)("div",{className:"gallery-canvas",children:[(0,c.jsx)("canvas",{ref:i}),(0,c.jsx)(w.Z,{className:"gallery-canvas__loading",isShow:r!==l,duration:1e3,timingFunction:"ease-in-out",children:(0,c.jsx)(y.Z,{})}),(0,c.jsx)(I.Z,{isOpen:null!==h,onClose:()=>{m(null),a.current&&(a.current.enabled=!0)},children:null!==h&&(0,c.jsx)(ce,{post:t[h]})}),u&&(0,c.jsx)("div",{className:"gallery-canvas__joystick",children:(0,c.jsx)(N,{control:v,shoot:f})})]})},Me=e=>{let{gallery:s,onEnter:t}=e;const i=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=i.current,s=a.current,t=(0,W.Z)((function(t){const{x:n,y:i,width:a,height:o}=e.getBoundingClientRect(),r=t.clientX-n,c=t.clientY-i,p=r-a/2,l=c-o/2,d=Math.sqrt(p**2+l**2);e.style.transform="\n          rotate3d(\n            ".concat(-l/170,",  ").concat(p/170,", 0, ").concat(d/17,"deg\n          )\n        "),e.style.boxShadow="\n          ".concat(-p/10,"px  ").concat(-l/10,"px 20px rgba(0, 0, 0, 0.3)\n        "),s.style.backgroundImage="\n          radial-gradient(\n            circle at ".concat(r,"px ").concat(c,"px, #00000010, #ffffff00, #ffffff70\n          )\n        ")}));return e.addEventListener("mousemove",t),()=>{e.removeEventListener("mousemove",t)}}),[]),(0,c.jsxs)("div",{className:"gallery-cover",children:[(0,c.jsxs)("article",{className:"gallery-cover__content",ref:i,children:[(0,c.jsx)("h1",{children:s.name}),(0,c.jsx)("p",{children:s.content}),(0,c.jsx)($.Z,{text:"입장하기",onClick:t,direction:"center"}),(0,c.jsx)("div",{className:"gallery-cover__content--light",ref:a})]}),(0,c.jsx)("div",{className:"gallery-cover__back"})]})};var ke=t(6207),Re=t(2480);const qe=()=>{const{galleryId:e}=(0,i.UO)(),{data:s,isLoading:t,isError:a}=(0,ke.rp)(parseInt(e)),{data:o,isLoading:r,isError:p}=(0,Re.N)(parseInt(e)),l=(0,g.Z)();(0,n.useEffect)((()=>(l&&D.Z.addToast("info","가로모드로 플레이하면 더욱 좋습니다",6e3),()=>{})),[l]);const[d,h]=(0,n.useState)(!0);(0,n.useRef)(null);if((0,n.useEffect)((()=>void 0),[]),!a&&!p)return t||r?(0,c.jsx)(y.Z,{}):(0,c.jsxs)("div",{className:"gallery",children:[(0,c.jsx)(w.Z,{className:"gallery__cover",isShow:d,duration:1300,children:(0,c.jsx)(Me,{gallery:s,onEnter:()=>h(!1)})}),(0,c.jsx)("div",{className:"gallery__navbar",children:(0,c.jsx)(u,{})}),(0,c.jsx)("div",{className:"gallery__canvas",children:(0,c.jsx)(Ve,{gallery:s,postList:o})})]})}}}]);