"use strict";(self.webpackChunkgallery=self.webpackChunkgallery||[]).push([[287],{4287:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ne});var n=r(7363);const s={srcSet:r.p+"responsive-images/2d-99d385f359af40ec-320.png 320w,"+r.p+"responsive-images/2d-51aa8be7e286b9e7-380.png 380w",images:[{path:r.p+"responsive-images/2d-99d385f359af40ec-320.png",width:320,height:397},{path:r.p+"responsive-images/2d-51aa8be7e286b9e7-380.png",width:380,height:472}],src:r.p+"responsive-images/2d-51aa8be7e286b9e7-380.png",toString:function(){return r.p+"responsive-images/2d-51aa8be7e286b9e7-380.png"},placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAMAAAAGyf7hAAAAyVBMVEXd3dxjY2RgYWLc3N/b29vg4ODh4eLd3d1nZ2doaGhkZmrk5OPU1NVgX2BqamlmZmazs7Lc3uOfn59oaGrh4uXe3t6QkJHj3tLAwMCHh4doZ2br05fl5ebp1qWGdk51dXXk5urpzoixoHTszXzDqGVtaFzm28He3NfT0s/DxMaRfETo27eFeFji2sZ8cVN3blSJi5HHx8fk1rOws7rWunO6nVLeuVvMu47JqVPayqGkhztnYlTMqEump6lhXlWjkF/Lpkioij3X2d79F2ZCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABN0lEQVR4nG3Q146DQAwFUDPjaZQhJLQQCCG997K9/P9PrQgQ5WHvk3UkW9YFKZXTtmg0GoFoAjVuitGMgoBnRHqc3g0aJO0UwfNAIJ1RvGNibscrCgAC/GmxGkCFy5eeV47W5/fPZW8HUK5PhhEFITDdf/UnZM7u6LTT8hKmITFd/UALhQCaXXYq6dgcn7H30Tdd/RrR5iUBSKOhocx10SvXzd14SiEIYBA62lwXmQCtO8txRtG2bQgd7XbmjAIh5H0Y8UOe57l2pattBhCGYffks4U0XMOVsnrJsiyLIT9oZSZmg4iIAHyRGNvfvuEaqsSq1sCO49v1HMdxjEHdqgDBORwjzjj3KNbIOWPM54zxWbbxq6aDuFXndLueWxXyrmNUIZO3PmmQaFVFKqkeqGSTRP6DUv4BgZ0ckUcj224AAAAASUVORK5CYII=",width:380,height:472},a={srcSet:r.p+"responsive-images/3d-8e07d3dd2b0a80c5-124.png 124w",images:[{path:r.p+"responsive-images/3d-8e07d3dd2b0a80c5-124.png",width:124,height:124}],src:r.p+"responsive-images/3d-8e07d3dd2b0a80c5-124.png",toString:function(){return r.p+"responsive-images/3d-8e07d3dd2b0a80c5-124.png"},placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEVMaXHNzc3AwMCfn5+pqanc3NyysrLX19fY2NjW1tbFxcWdnZ2np6fKysrU1NSfn5/S0tLOzs7j4+PQ0NCWlpbp6enOzs7l5eWXl5empqbDw8OwsLCtra3Pz8+urq7Hx8esrKzr6+u0tLTNzc3Kysrr6+vY2NiSkpLl5eXw8PC/v7+ysrKurq7U1NTS0tKsrKyxsbHT09PMzMzV1dXS0tKsrKyvr6/o6OjPz8+YmJiKioq9vb3U1NSfn5+YmJj29vaPj4/IyMiQkJDl5eXDw8P////q6uqOjo65ubnKysrU1NTj4+POzs61tbXR0dHKysr7+/v39/ff39/BwcG5ubm4ubmjo6OsrKwnYYVlAAAAVnRSTlMA+4kS/v7+AQIF/v38EYRf/CYV+/3SyLiXmoJoijX7j+RF9lRC/fr7i/thKHtmyrFF5Zek78uWT6g0XPu26u0+ie5KbsAi5RkL1P///////////////mpBzjgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAETSURBVHicZZHXbsMwFEPpWLIk29l779W9d5vuIe+kSf//TwobbtOgfDwgCF5eIBbHPwmBXKq/gbiA2D205kdga8gw2LNo3i0J/kMZkseUZjzdKwnwOJsjvVCktD23zbMCIjILpAuGY8uHfvZGXmSjXC6QJsaY2M+o6go9SSWjxPPc1a1p0hIqmpLPzGsAmkW/2FXvyccAVTlyFTsBICFpEJRf3t6BiqHZGRrChtbSLX86yQHV1di4dkO4s9BMLT8MXp/weLcqmLIdNqp3li2yHE2D4kytFJbeVnSQ2uh9ErKYB/4El2fNqChj2N53HPNLGZZDz3rLg1OH9Kwy2O8koVnUO7qV+rsdwBnUWneTxf+I2TeZayAPaT/EPwAAAABJRU5ErkJggg==",width:124,height:124},l=[{galleryId:1,name:"갤러리1",content:"대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.",createdDate:"2023-08-03 23:59:59",modifiedDate:"2023-08-04 00:59:59",place:{placeId:1,name:"Gallery A",maximumFrameNumber:10,threeDimensionImageUrl:a,twoDimensionImageUrl:s}},{galleryId:2,name:"갤러리2",content:"대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.",createdDate:"2023-08-03 23:59:59",modifiedDate:"2023-08-04 00:59:59",place:{placeId:1,name:"Gallery A",maximumFrameNumber:10,threeDimensionImageUrl:a,twoDimensionImageUrl:s}},{galleryId:3,name:"갤러리3",content:"대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.",createdDate:"2023-08-03 23:59:59",modifiedDate:"2023-08-04 00:59:59",place:{placeId:1,name:"Gallery A",maximumFrameNumber:10,threeDimensionImageUrl:a,twoDimensionImageUrl:s}},{galleryId:4,name:"갤러리4",content:"대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.",createdDate:"2023-08-03 23:59:59",modifiedDate:"2023-08-04 00:59:59",place:{placeId:1,name:"Gallery A",maximumFrameNumber:10,threeDimensionImageUrl:a,twoDimensionImageUrl:s}},{galleryId:5,name:"갤러리5",content:"대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다. 대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.  대충 엄청나게 긴 내용의 갤럴리 설명입니다.",createdDate:"2023-08-03 23:59:59",modifiedDate:"2023-08-04 00:59:59",place:{placeId:1,name:"Gallery A",maximumFrameNumber:10,threeDimensionImageUrl:a,twoDimensionImageUrl:s}}],c=[{placeId:1,name:"공간1",maximumFrameNumber:10,twoDimensionImageUrl:"https://source.unsplash.com/random/300×300",threeDimensionImageUrl:"https://source.unsplash.com/random/300×300"},{placeId:2,name:"공간2",maximumFrameNumber:10,twoDimensionImageUrl:"https://source.unsplash.com/random/300×300",threeDimensionImageUrl:"https://source.unsplash.com/random/300×300"},{placeId:3,name:"공간3",maximumFrameNumber:10,twoDimensionImageUrl:"https://source.unsplash.com/random/300×300",threeDimensionImageUrl:"https://source.unsplash.com/random/300×300"}];var i=r(5945),o=r(4469),u=r(9093),d=r(2731);const m={reg:/^[A-Za-z0-9가-힣\s]{1,15}$/,con:"한/영/숫자 조합 1~15자로 입력해주세요"},p={reg:/[\s\S]{1,150}/,con:"공백 포함 150자로 입력해주세요"},g={reg:/^[1-9]\d*$/,con:"공간값(숫자)이 올바르지 않습니다"};var h=r(7355),f=r(3823);const j=e=>{let{id:t,name:r,value:n,label:s="",children:a}=e;return(0,f.jsxs)("label",{htmlFor:t,className:"radio","data-cursor-scale":h.D,children:[(0,f.jsxs)("div",{className:"radio__label","data-cursor-scale":h.D,children:[(0,f.jsx)("input",{type:"radio",id:t,name:r,value:n,"data-cursor-scale":h.D})," ",s]}),a]})};const b=e=>{let{label:t,name:r,initialValue:n,onChange:s}=e;const a=function(e){var t=this;let r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;if(!e)throw Error("Invalid required arguments");return function(){if(!r){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];e.apply(t,a)}clearTimeout(r),r=setTimeout((()=>{r=void 0}),n)}}((e=>{e.target.classList.toggle("fill",e.target.value.length>0),s&&s(e)}),100);return(0,f.jsxs)("div",{className:"text",children:[(0,f.jsx)("input",{name:r,type:"text",defaultValue:n,onChange:a}),(0,f.jsx)("label",{children:t})]})},v=e=>{let{label:t,name:r,initialValue:s,defaultHeight:a=50,maxHeight:l=70,onChange:c}=e;const i=(0,n.useRef)(null);return(0,f.jsxs)("div",{className:"textarea",ref:i,children:[(0,f.jsx)("textarea",{name:r,defaultValue:s,onChange:e=>{e.target.classList.toggle("fill",e.target.value.length>0),e.target.style.height=e.target.scrollHeight>a?e.target.scrollHeight+"px":a+"px",c&&c(e)},style:{maxHeight:l}}),(0,f.jsx)("label",{children:t}),(0,f.jsx)("div",{})]})},y=e=>{let{text:t,ariaLabel:r=t,direction:s="left",type:a="button",size:l="md",color:c="black",onClick:i,onFocus:o,onBlur:u}=e;const d=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=d.current,t=function(t){"Enter"===t.key&&e.click()};return e.addEventListener("keyup",t),()=>{e.removeEventListener("keyup",t)}}),[]),(0,f.jsx)("button",{ref:d,className:"button ".concat(s," ").concat(l," ").concat(c),type:a,onClick:i,onFocus:o,onBlur:u,"aria-label":r,"data-cursor-scale":h.D,children:t})},x=()=>{const e=c,{mutate:t}=function(){const e=(0,i.NL)();return(0,o.D)((e=>u.Z.patch("/member",e)),{onSuccess:()=>{e.invalidateQueries(["gallery-list"])},onError:e=>{d.Z.addToast("error",e.message)}})}();return(0,f.jsxs)("form",{className:"gallery-form",onSubmit:function(e){e.preventDefault();const r=function(e){const t=e.get("name");if(!m.reg.test(t))return{result:!1,reason:m.con};const r=e.get("content");if(!p.reg.test(r))return{result:!1,reason:p.con};const n=e.get("placeId");return g.reg.test(n)?{result:!0,data:{name:t,content:r,placeId:parseInt(n)}}:{result:!1,reason:g.con}}(new FormData(e.currentTarget));r.result?t(r.data):d.Z.addToast("error",r.reason)},children:[(0,f.jsx)(b,{label:"전시회 이름",name:"name",initialValue:""}),(0,f.jsx)(v,{label:"소개글",name:"description",initialValue:""}),(0,f.jsx)("div",{className:"gallery-form__place",children:e.map((e=>(0,f.jsx)(j,{id:"place-".concat(e.placeId),name:"placeId",label:e.name,value:e.placeId,children:(0,f.jsx)("img",{src:e.twoDimensionImageUrl,alt:"".concat(e.name," 공간")})},e.placeId)))}),(0,f.jsx)(y,{type:"submit",direction:"left",ariaLabel:"전시회 생성",text:"전시회 개관"})]})};var w=r(5301),O=r(6735);const A=["styles"];function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const I=e=>{let{styles:t={}}=e,r=(0,O.Z)(e,A);return(0,f.jsx)("svg",L(L({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r),{},{children:(0,f.jsx)("path",{fill:"currentColor",d:"M18 12.998h-5v5a1 1 0 01-2 0v-5H6a1 1 0 010-2h5v-5a1 1 0 012 0v5h5a1 1 0 010 2z"})}))};var P=r(3165);const k=()=>{const[e,t]=(0,n.useState)(!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{className:"gallery-create","aria-label":"전시회 생성","data-cursor-scale":h.D,onClick:()=>{t(!0)},children:(0,f.jsx)(I,{})}),(0,f.jsx)(P.Z,{isOpen:e,onClose:()=>t(!1),children:(0,f.jsx)(x,{})})]})},N=["styles"];function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const C=e=>{let{styles:t={}}=e,r=(0,O.Z)(e,N);return(0,f.jsxs)("svg",S(S({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r),{},{children:[(0,f.jsx)("path",{fill:"currentColor",d:"M18.988 2.012l3 3L19.701 7.3l-3-3zM8 16h3l7.287-7.287-3-3L8 13z"}),(0,f.jsx)("path",{fill:"currentColor",d:"M19 19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .896-2 2v14c0 1.104.897 2 2 2h14a2 2 0 002-2v-8.668l-2 2V19z"})]}))},Z=["styles"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const T=e=>{let{styles:t={}}=e,r=(0,O.Z)(e,Z);return(0,f.jsx)("svg",F(F({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r),{},{children:(0,f.jsx)("path",{fill:"currentColor",d:"M12 2a10 10 0 1010 10A10 10 0 0012 2zm-2 14.5v-9l6 4.5z"})}))},V=["styles"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const B=e=>{let{styles:t={}}=e,r=(0,O.Z)(e,V);return(0,f.jsx)("svg",H(H({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r),{},{children:(0,f.jsx)("path",{fill:"currentColor",d:"M21 12l-7-7v4C7 10 4 15 3 20c2.5-3.5 6-5.1 11-5.1V19l7-7z"})}))},M=e=>{let{gallery:t}=e;const r=(0,n.useRef)(null),s=(0,n.useRef)(null),a=(0,n.useRef)(null),l=(0,n.useMemo)((()=>t.createdDate.split(" ")[0]),[t.createdDate]);return(0,n.useEffect)((()=>{const e=r.current,n=s.current.querySelectorAll("button"),l=a.current;t.content.length;let c=0,i=null;const o=function(){e.classList.add("selected"),i||(i=setInterval((()=>{l.textContent+=t.content.charAt(c),c+=1}),20))},u=function(){e.classList.remove("selected"),i&&clearInterval(i),i=null,l.textContent="",c=0};return e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",u),n.forEach((e=>{e.addEventListener("focus",o),e.addEventListener("blur",u)})),()=>{e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",u),n.forEach((e=>{e.removeEventListener("focus",o),e.removeEventListener("blur",u)})),i&&clearInterval(i)}}),[]),(0,f.jsxs)("div",{className:"gallery-item",ref:r,children:[(0,f.jsx)("h2",{className:"gallery-item__title",children:t.name}),(0,f.jsxs)("ul",{className:"gallery-item__icons",ref:s,children:[(0,f.jsx)("li",{children:(0,f.jsx)("button",{"data-cursor-scale":h.D,children:(0,f.jsx)(T,{})})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{"data-cursor-scale":h.D,children:(0,f.jsx)(C,{})})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{"data-cursor-scale":h.D,children:(0,f.jsx)(B,{})})})]}),(0,f.jsxs)("div",{className:"gallery-item__content",children:[(0,f.jsx)("div",{ref:a}),(0,f.jsx)("p",{children:t.content})]}),(0,f.jsx)("time",{className:"gallery-item__date",children:l}),(0,f.jsxs)("div",{className:"gallery-item__borders",children:[(0,f.jsx)("div",{}),(0,f.jsx)("div",{}),(0,f.jsx)("div",{}),(0,f.jsx)("div",{})]})]})},X=()=>{const e=(0,n.useRef)(null),t=l;return(0,n.useEffect)((()=>{if(!t)return;const r=new IntersectionObserver((e=>{e.forEach((e=>{e.target.classList.toggle("show",e.isIntersecting),e.isIntersecting&&r.unobserve(e.target)}),{rootMargin:"-150px"})}));e.current.querySelectorAll(".gallery-list__item").forEach((e=>{r.observe(e)}))}),[t]),(0,f.jsxs)("div",{className:"gallery-list",ref:e,children:[(0,f.jsx)(k,{}),t.map((e=>(0,f.jsx)("div",{className:"gallery-list__item",children:(0,f.jsx)(M,{gallery:e})},e.galleryId)))]})},q={nickname:"홍길동",role:"회원",createdDate:"2023-09-27 22:00:59"},z=e=>{let{onLoaded:t}=e;const r=q,[s,a]=(0,n.useState)(0);return(0,n.useEffect)((()=>{if(!r)return;a(Math.floor(((new Date).getTime()-new Date(r.createdDate).getTime())/6e4));const e=setInterval((()=>{a((e=>e+1))}),6e4);return t&&t(),()=>{e&&clearInterval(e)}}),[r]),(0,f.jsxs)("div",{className:"profile",children:[(0,f.jsxs)("span",{children:[r.nickname,"님의 작업실"]}),(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{children:s}),"분 운영 중"]})]})};var R=r(4063);const G=()=>{const{data:e,isLoading:t,isError:r}=(0,R.bT)(),{mutate:n}=(0,R.JN)();return(0,f.jsxs)("form",{className:"withdrawl-form",onSubmit:function(t){t.preventDefault();new FormData(t.currentTarget).get("nickname")!==(null==e?void 0:e.nickname)?d.Z.addToast("error","닉네임이 올바르지 않습니다"):n()},children:[(0,f.jsxs)("p",{children:["본인의 닉네임 ",(0,f.jsx)("b",{children:null==e?void 0:e.nickname}),"을 정확하게 입력해주세요"]}),(0,f.jsx)(b,{label:"닉네임",name:"nickname",initialValue:""}),(0,f.jsx)(y,{text:"회원 탈퇴",type:"submit"})]})},K=["styles"];function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Y=e=>{let{styles:t={}}=e,r=(0,O.Z)(e,K);return(0,f.jsx)("svg",W(W({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},r),{},{children:(0,f.jsxs)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,f.jsx)("circle",{cx:"8",cy:"2.5",r:".9"}),(0,f.jsx)("circle",{cx:"8",cy:"8",r:".9"}),(0,f.jsx)("circle",{cx:"8",cy:"13.5",r:".9"})]})}))};var J=r(7135);const $=function(e){let{isShow:t,duration:r,timingFunction:s="linear",className:a,children:l}=e;const c=(0,n.useRef)(null),[i,o]=(0,n.useState)(t);return(0,n.useEffect)((()=>{const e=c.current;if(!e)return;let n;return t?(o(!0),e.classList.remove("".concat(a,"--enter")),e.classList.remove("".concat(a,"--leave")),n=setTimeout((()=>{e.classList.add("".concat(a,"--enter"))}),50)):!t&&i&&(e.classList.remove("".concat(a,"--enter")),e.classList.add("".concat(a,"--leave")),n=setTimeout((()=>{o(!1)}),r)),()=>{n&&clearTimeout(n)}}),[t,r]),(0,n.useEffect)((()=>{const e=c.current;e&&(e.style.setProperty("--duration","".concat(r,"ms")),e.style.setProperty("--timing-function",s))}),[i,r,s]),t||i?(0,f.jsx)("div",{className:"transition ".concat(a),ref:c,children:l}):null},ee={reg:/^[A-Za-z\dㄱ-ㅎㅏ-ㅣ가-힣]{5,10}$/,con:"한/영 조합 5~10자"};const te=()=>{const{mutate:e}=(0,R.Gn)();return(0,f.jsxs)("form",{className:"profile-form",onSubmit:function(t){t.preventDefault();const r=function(e){const t=e.get("nickname");return ee.reg.test(t)?{result:!0,data:{nickname:t}}:{result:!1,reason:ee.con}}(new FormData(t.currentTarget));r.result?e(r.data):d.Z.addToast("error","닉네임을 제대로 입력하쇼",2e3)},children:[(0,f.jsx)(b,{label:"닉네임",name:"nickname",initialValue:""}),(0,f.jsx)(y,{type:"submit",direction:"left",ariaLabel:"닉네임 수정",text:"수정하기"})]})},re=()=>{const e=(0,n.useRef)(null),[t,r]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const t=e.current,n=function(){r(!0)},s=function(){r(!1)};return t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",s),()=>{t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",s)}}),[]);const[s,a]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),{mutate:i}=(0,R.aU)();return(0,f.jsxs)("div",{className:"profile-edit",ref:e,children:[(0,f.jsx)(J.Z,{ariaLabel:"더보기",onFocus:()=>r(!0),children:(0,f.jsx)("div",{className:"profile-edit__toggle",children:(0,f.jsx)(Y,{})})}),(0,f.jsxs)($,{className:"profile-edit__menu",isShow:t,duration:200,timingFunction:"ease-in-out",children:[(0,f.jsx)(y,{ariaLabel:"정보수정",text:"닉네임 수정",onClick:()=>a(!0)}),(0,f.jsx)(y,{ariaLabel:"로그아웃",text:"로그아웃",onClick:()=>i()}),(0,f.jsx)(y,{ariaLabel:"회원탈퇴",text:"회원탈퇴",onClick:()=>c(!0),onBlur:()=>r(!1)})]}),(0,f.jsx)(P.Z,{isOpen:s,onClose:()=>a(!1),children:(0,f.jsx)(te,{})}),(0,f.jsx)(P.Z,{isOpen:l,onClose:()=>c(!1),children:(0,f.jsx)(G,{})})]})};const ne=function(){return(0,f.jsxs)("div",{className:"my-page",children:[(0,f.jsxs)("section",{className:"my-page__profile",onAnimationEnd:function(){var e,t,r;null===(e=document.querySelector(".my-page__profile-edit"))||void 0===e||e.classList.add("block"),null===(t=document.querySelector(".my-page__line"))||void 0===t||t.classList.add("block"),null===(r=document.querySelector(".my-page__gallery"))||void 0===r||r.classList.add("block")},children:[(0,f.jsx)(z,{onLoaded:function(){var e;null===(e=document.querySelector(".my-page__profile"))||void 0===e||e.classList.add("loaded")}}),(0,f.jsx)("div",{className:"my-page__profile-edit",children:(0,f.jsx)(re,{})})]}),(0,f.jsx)("div",{className:"my-page__line"}),(0,f.jsx)("section",{className:"my-page__gallery",children:(0,f.jsx)(X,{})})]})}}}]);