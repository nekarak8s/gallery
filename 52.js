self.onmessage=async function(e){self.onmessage=function(e){switch(e.data.type){case"resize":o=e.data.width;break;case"stop":i&&cancelAnimationFrame(i),self.close()}};const{canvas:t,imgBitmap:a}=e.data,s=t.getContext("2d"),n=t.width,c=t.height;let i,o=64;(e=>{let t=0,a=0;const r=()=>{s.clearRect(0,0,n,c),s.save(),s.translate(n/2,c/2),s.rotate(t*Math.PI/180),s.drawImage(e,-o/2,-o/2,o,o),s.restore(),a+=.012,t+=2.8*(Math.sin(a)+1),i=requestAnimationFrame(r)};r()})(a)};