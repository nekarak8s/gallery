"use strict";(self.webpackChunkgallery=self.webpackChunkgallery||[]).push([[666],{2288:(t,e,i)=>{i.a(t,(async(t,o)=>{try{i.d(e,{Z:()=>v});var s=i(5466),n=i(251),a=i(8406),r=i(4599),d=i(7916),h=i(3515),c=i(102),u=i(4813),p=i(2914),x=i(9543),g=i(7628),l=i(7043),m=i(254),w=i(4384),I=i(7959),y=(i(9026),i(3823)),f=t([c,x]);[c,x]=f.then?(await f)():f;const b=[{position:{x:50,y:17,z:110},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(20)}},{position:{x:5,y:6,z:44},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(0)}},{position:{x:10,y:6,z:35},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(-90)}},{position:{x:10,y:6,z:5},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(-90)}},{position:{x:10,y:6,z:5},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(90)}},{position:{x:10,y:10,z:-100},rotation:{x:(0,d.Id)(5),y:(0,d.Id)(0)}}],j=[{position:{x:45,y:23,z:170},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(15)}},{position:{x:3,y:5,z:46},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(0)}},{position:{x:8,y:5,z:37},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(-90)}},{position:{x:8,y:5,z:3},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(-90)}},{position:{x:12,y:5,z:3},rotation:{x:(0,d.Id)(0),y:(0,d.Id)(90)}},{position:{x:11,y:10,z:-100},rotation:{x:(0,d.Id)(5),y:(0,d.Id)(0)}}],L=1e3,v=()=>{const{t}=(0,n.$G)(),[e,i]=(0,s.useState)(!0);(0,s.useEffect)((()=>{window.scrollTo(0,0),setTimeout((()=>{i(!1)}),L)}),[]);const o=(0,s.useRef)(null),{sceneRef:d,rendererRef:f,cameraRef:v}=(0,l.Z)({canvasRef:o}),{loadingManager:z,requiredCount:M,loadedCount:Z,setLoadedCount:T,setRequiredCount:C}=(0,m.Z)();(0,s.useEffect)((()=>{const t=f.current,e=d.current,i=v.current;if(!(t&&e&&i&&z))return;i.fov=30,i.updateProjectionMatrix();const o=(0,h.l)({scene:e,loadingManager:z}),s=new r.SUY,n=function(){const a=s.getDelta();o.update&&o.update(a),t.render(e,i),t.setAnimationLoop(n)};return n(),()=>{i.resetFov(),o.dispose&&o.dispose(),t.setAnimationLoop(null)}}),[f.current,d.current,v.current,z]);const Y=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const t=v.current,e=Y.current;if(!t||!e)return;let i=-1;const o=(0,I.Z)((function(){const o=Math.round(window.scrollY/window.innerHeight);i!==o&&(i=o,e.style.transform="translate(0, -".concat(100*o,"vh)"),window.innerWidth<w.U.tablet?(a.ZP.to(t.position,{duration:1,x:j[i].position.x,y:j[i].position.y,z:j[i].position.z}),a.ZP.to(t.rotation,{duration:1,x:j[i].rotation.x,y:j[i].rotation.y})):(a.ZP.to(t.position,{duration:1,x:b[i].position.x,y:b[i].position.y,z:b[i].position.z}),a.ZP.to(t.rotation,{duration:1,x:b[i].rotation.x,y:b[i].rotation.y})))}));return o(),window.addEventListener("scroll",o),()=>{window.addEventListener("scroll",o)}}),[v.current]),(0,y.jsxs)("div",{className:"guide",children:[(0,y.jsxs)("div",{className:"guide__main",children:[(0,y.jsx)("canvas",{ref:o}),(0,y.jsxs)("div",{className:"guide__sections",ref:Y,children:[(0,y.jsxs)("section",{children:[(0,y.jsxs)("h1",{children:[t("guide.intro1"),(0,y.jsx)("br",{}),t("guide.intro2")]}),(0,y.jsx)("div",{className:"guide__scroll",children:(0,y.jsx)(g.Z,{})})]}),(0,y.jsxs)("section",{children:[(0,y.jsx)("h2",{children:t("guide.step1.title")}),(0,y.jsx)("p",{children:t("guide.step1.content")})]}),(0,y.jsxs)("section",{children:[(0,y.jsx)("h2",{children:t("guide.step2.title")}),(0,y.jsx)("p",{children:t("guide.step2.content")})]}),(0,y.jsxs)("section",{children:[(0,y.jsx)("h2",{children:t("guide.step3.title")}),(0,y.jsx)("p",{children:t("guide.step3.content")})]}),(0,y.jsxs)("section",{children:[(0,y.jsx)("h2",{children:t("guide.step4.title")}),(0,y.jsx)("p",{children:t("guide.step4.content")})," "]}),(0,y.jsxs)("section",{children:[(0,y.jsxs)("h1",{children:[t("guide.outro1"),(0,y.jsx)("br",{}),t("guide.outro2")]}),(0,y.jsx)(u.Z,{text:t("buttons.experience"),ariaLabel:"3D 전시회 체험하기",to:c._.Example.path,isTransparent:!0,direction:"center"})]})]})]}),(0,y.jsx)(p.Z,{className:"guide__loading",isShow:e||M!==Z,duration:1e3,timingFunction:"ease-in-out",children:(0,y.jsx)(x.Z,{})})]})};o()}catch(t){o(t)}}))},3515:(t,e,i)=>{i.d(e,{l:()=>T});var o=i(4599),s=i(7916);const n=i.p+"images/create-gallery344c7cc8eb842a2506b2.png",a=i.p+"images/login1f4a73aace9b64e9bacd.png",r=i.p+"images/playcef38986bd5eed2171c0.png",d=i.p+"images/update-gallerydb27124705739b04ab1d.png",h=i.p+"images/Concrete_019_AmbientOcclusion04ade97ff23a48fbc618.jpg";var c=i(5481);const u=i.p+"images/Concrete_019_Normal540620dd2e79f19f1b8f.jpg";var p=i(8907);const x=i.p+"images/Granite_001_NORM32511c1e04a475585e38.jpg",g=i.p+"images/Granite_001_OCC4b81b33f4c11d449d31f.jpg";var l=i(135),m=i(3761),w=i(5301),I=i(3666),y=i(1913);class f{constructor(t){var e;(0,w.Z)(this,"spotLight",null),(0,w.Z)(this,"textures",{});const i=new o.DvJ(t.width,t.height,t.depth);if(t.texture){if(t.texture.normalImg&&(this.textures.normalTex=t.texture.textureLoader.load(t.texture.normalImg)),t.texture.roughImg&&(this.textures.roughTex=t.texture.textureLoader.load(t.texture.roughImg)),t.texture.ambientImg&&(this.textures.ambientTex=t.texture.textureLoader.load(t.texture.ambientImg)),t.texture.repeatX||t.texture.repeatY)for(const e in this.textures){const i=this.textures[e];i.wrapS=o.rpg,i.wrapT=o.rpg,i.repeat.x=t.texture.repeatX||1,i.repeat.y=t.texture.repeatY||1}this.textures.baseTex=t.texture.textureLoader.load(t.texture.baseImg)}const s=null!==(e=t.texture)&&void 0!==e&&e.roughImg?new o.Wid({color:t.color,map:this.textures.baseTex||void 0,normalMap:this.textures.normalTex||void 0,aoMap:this.textures.ambientTex||void 0,roughnessMap:this.textures.roughTex||void 0}):new o.YBo({color:t.color,map:this.textures.baseTex||void 0,normalMap:this.textures.normalTex||void 0,aoMap:this.textures.ambientTex||void 0});this.object=new o.Kj0(i,s),this.object.position.set(t.x||0,t.y||0,t.z||0),this.object.rotation.set(t.rotationX||0,t.rotationY||0,t.rotationZ||0),this.object.receiveShadow=!0,this.object.castShadow=!0,t.spotLight&&t.width&&(this.spotLight=new o.PMe(t.spotLight.color||16777190,t.spotLight.intensity||4*t.width,t.spotLight.distance||2*t.width,t.spotLight.angle||Math.PI/5.2,t.spotLight.penumbra,t.spotLight.decay||2),this.spotLight.position.set(t.spotLight.lightOffsetX||0,t.spotLight.lightOffsetY||t.width,t.spotLight.lightOffsetZ||t.width),this.spotLight.target=this.object,this.spotLight.castShadow=!0,this.object.add(this.spotLight))}dispose(){(0,y.D)(this.object),this.spotLight&&(0,y.D)(this.spotLight),this.textures={}}}class b extends I.I{constructor(){return b.instance||(super(),b.instance=this),b.instance}createItem(t){return new f(t)}}(0,w.Z)(b,"instance",null);var j=i(6967),L=i(6342),v=i(1018);const z=[{x:0,y:2,z:0,width:20,height:40,depth:40}],M=[{x:1,y:1,z:35,width:10,height:8,depth:.3},{x:18,y:1,z:1,width:19,height:8,depth:.3,rotationY:(0,s.Id)(-90)},{x:18,y:1,z:20,width:19,height:8,depth:.3,rotationY:(0,s.Id)(-90)},{x:1,y:1,z:1,width:15,height:8,depth:.3,rotationY:(0,s.Id)(-90)}],Z=[{x:3,y:6,z:35.1,width:2,height:2,depth:.2,baseImg:a},{x:17.9,y:6,z:37,width:2,height:2,depth:.2,rotationY:(0,s.Id)(-90),baseImg:n},{x:17.9,y:6,z:3,width:2,height:2,depth:.2,rotationY:(0,s.Id)(-90),baseImg:d},{x:1.1,y:6,z:3,width:2,height:2,depth:.2,rotationY:(0,s.Id)(90),baseImg:r}];function T(t){const e=new o.dpR(t.loadingManager),i=[],s=[],n=new Date,a=(0,l.cW)(n),r=new o.Ilk((0,l.gO)(n)),d=(new L.Z).addItem({container:t.scene,size:1e3});s.push(d);const w=(new j.Z).addItem({container:t.scene,textureLoader:e,width:500,depth:500});s.push(w);const I=(new m.Z).addItem({container:t.scene,color:6842472,floorsData:z,texture:{textureLoader:e,baseImg:p,ambientImg:g,normalImg:x,repeatX:z[0].width/3,repeatY:z[0].depth/3}});s.push(I);const T=(new v.Z).addItem({container:t.scene,wallsData:M,repeatX:2.5,repeatY:8/6,texture:{textureLoader:e,baseImg:c,ambientImg:h,normalImg:u}});s.push(T),Z.forEach(((i,o)=>{const n=(new b).addItem({container:t.scene,x:i.x,y:i.y,z:i.z,width:i.width,height:i.height,depth:i.depth,rotationY:i.rotationY,isUpdate:!1,texture:{textureLoader:e,baseImg:i.baseImg},spotLight:{intensity:3*(1-a)+5}});s.push(n)}));const C=new o.Pa4,{elevation:Y,azimuth:_}=(0,l.F4)(n),R=o.M8C.degToRad(90-Y),S=o.M8C.degToRad(3*Y+1),D=o.M8C.degToRad(_);C.setFromSphericalCoords(1,R,D),d.setSunPosition(C),w.setSunDirection(C);const E=new o.Mig(16777215,a);t.scene.add(E),i.push(E);const P=new o.Ox3(r,a);P.position.set(100*Math.sin(D),500*Math.sin(S),100*Math.cos(D)),P.shadow.camera.left=-60,P.shadow.camera.right=60,P.shadow.camera.top=60,P.shadow.camera.bottom=-100,P.castShadow=!0,t.scene.add(P),i.push(P);const O=setInterval((()=>{const t=new Date,{elevation:e,azimuth:i}=(0,l.F4)(t),n=o.M8C.degToRad(90-e),a=o.M8C.degToRad(3*e+1),r=o.M8C.degToRad(i);C.setFromSphericalCoords(1,n,r),d.setSunPosition(C),w.setSunDirection(C);const h=(0,l.cW)(t),c=new o.Ilk((0,l.gO)(t));E.intensity=h,P.color=c,P.intensity=h,P.position.set(100*Math.sin(r),500*Math.sin(a),100*Math.cos(r)),s.forEach((t=>{t instanceof f&&t.spotLight&&(t.spotLight.intensity=3*(1-h)+5)}))}),6e4);return{dispose:()=>{O&&clearInterval(O),i.forEach((e=>{t.scene.remove(e),(0,y.D)(e)})),s.forEach((t=>{t.dispose&&t.dispose()}))},update:()=>{w.update()}}}},3370:(t,e,i)=>{i.a(t,(async(t,o)=>{try{i.r(e),i.d(e,{default:()=>s.Z});var s=i(2288),n=t([s]);s=(n.then?(await n)():n)[0],o()}catch(t){o(t)}}))},9026:()=>{}}]);